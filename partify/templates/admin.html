<!--
Copyright 2011 Fred Hatfull

This file is part of Partify.

Partify is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Partify is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Partify.  If not, see <http://www.gnu.org/licenses/>.
-->

{% extends "i_love_this_web_thing.html" %}
{% from "_util.html" import css_include, js_include, render_field %}
{% from "common.html" import show_topbar %}

{% macro show_configuration_form() %}
<div class="span-22 prepend-1 append-1 last">
	<h4>Configuration</h4>
	<form method="POST" action="{{url_for('configuration_update')}}">
		{{ render_field(configuration_form.mpd_server_hostname) }}
		{{ render_field(configuration_form.mpd_server_port) }}
		{{ render_field(configuration_form.server) }}
		{{ render_field(configuration_form.server_host) }}
		{{ render_field(configuration_form.server_port) }}
		{{ render_field(configuration_form.lastfm_api_key) }}
		{{ render_field(configuration_form.lastfm_api_secret) }}
		<input type="submit" value="Update">
	</form>
</div>
<hr />
{% endmacro %}

{% macro show_player_controls() %}
<div class="span-22 prepend-1 append-1 last">
	<h4>Player Controls</h4>
	<p><em>Player controls here</em></p>
</div>
<hr />
{% endmacro %}

{% macro show_admin_admin() %}
<div class="span-22 prepend-1 append-1 last">
	<h4>Administration</h4>
	<p><em>Admin admin here...</em></p>
</div>
<hr />
{% endmacro %}

{% block css_head %}
	{{ css_include('css/admin.css') }}
{% endblock %}

{% block title %}
Admin - Partify
{% endblock %}

{% block super_body %}

{{ show_topbar(user, false, true) }}

<div id="content_all" style="width:100%; height:100%">
    <div class="container prepend-top" id="content_container">
        <div class="span-24 last" id="content">
        	<div class="span-22 prepend-1 append-1 last">
        		<h2>Administration</h2>
        	</div>
        	{% if "ADMIN_CONTROLS" in user_privs %}
        		{{ show_player_controls() }}
        	{% endif %}
        	{% if "ADMIN_CONFIG" in user_privs %}
				{{ show_configuration_form() }}
			{% endif %}
        	{% if "ADMIN_ADMIN" in user_privs %}
        		{{ show_admin_admin() }}
        	{% endif %}
        </div>
    </div>
</div>

{% endblock %}